{"version":3,"file":"js/743.56cb3c30.js","mappings":"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","sources":["webpack://hello-world/./src/views/ChatView.vue","webpack://hello-world/./src/views/ChatView.vue?fcb5"],"sourcesContent":["<template>\r\n  <div class=\"banner\">\r\n    <div class=\"logo\">\r\n      <img src=\"https://logos-world.net/wp-content/uploads/2021/02/4chan-Emblem.png\" alt=\"\">\r\n      <span>4chat</span>  \r\n    </div>\r\n    <div class=\"status\">\r\n      <div class=\"statusIndicator\" :style=\"{background: indicatorColor}\"></div>\r\n      <span class=\"statusTex\">{{ statusText||'Loading' }}</span>\r\n    </div>\r\n  </div>\r\n  <div class=\"chatlist\">\r\n    <table class=\"tableclass\">\r\n      <tr>\r\n        <th class=\"author_col\">Author</th>\r\n        <th>Message</th>\r\n      </tr>\r\n      <tr v-for=\"(message, i) in messages\" :key=\"i\">\r\n        <td class=\"author_col\">\r\n          {{message[0]||\"FAILED\"}}\r\n        </td>\r\n        <td>\r\n          {{message[1]||\"FAILED\"}}\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </div>\r\n  <form class=\"inputs\" action=\"wss://websocket-server.creepreplit.repl.co/\" @submit.prevent=\"sendMessage\">\r\n    <input class=\"textInput\" ref=\"textInput\" type=\"text\" :disabled=!canMessage>\r\n    <input class=\"submitInput\" type=\"submit\" :disabled=!canMessage>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {return {\r\n    connection: null,\r\n    messages: [],\r\n    reconnector: null,\r\n    connected_users: 0,\r\n    connectionStatus: 2, // 0 Offline 1 Online 2 Connecting\r\n    statusText: \"Loading\",\r\n  }},\r\n  mounted() {\r\n    this.connect()\r\n  },\r\n  unmounted() {\r\n    this.connection.close(1000);\r\n  },\r\n  watch: {\r\n    connection(now) {\r\n      if (now == null) {\r\n        this.start_reconnector()\r\n      } else {\r\n        clearInterval(this.reconnector)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    connect() {\r\n      this.connection = new WebSocket(\"wss://websocket-server.creepreplit.repl.co/\");\r\n      this.connection.onmessage = (data) => {\r\n        const msg = JSON.parse(data.data)\r\n        if (msg[\"type\"] == \"message\")\r\n          this.messages.push([msg[\"author\"], msg[\"content\"]])\r\n        else if (msg[\"type\"] == 'info')\r\n          this.statusText = `Online ${msg[\"user_count\"]}`\r\n        else {\r\n          this.messages.push([\"CLIENT\", \"Got bad data\"])\r\n          console.log(\"BAD DATA\", msg)\r\n        }\r\n      }\r\n      this.connection.onclose = () => {\r\n        this.connection = null\r\n        this.messages.push([\"CLIENT\", \"CONNECTION FAILED\"])\r\n        this.connectionStatus = 0\r\n        this.statusText = `Offline`\r\n      }\r\n      this.connection.onopen = () => {\r\n        this.messages.push([\"CLIENT\", \"CONNECTED\"])\r\n        this.connection.send(JSON.stringify({\"type\": \"info\"}))\r\n        this.connectionStatus = 1\r\n      }\r\n    },\r\n    sendMessage() {\r\n      const textInput = this.$refs.textInput\r\n      const msg = textInput.value\r\n      textInput.value = \"\"\r\n      this.connection.send(JSON.stringify({\r\n        \"type\": \"message\",\r\n        \"content\": msg,\r\n      }))\r\n    },\r\n    start_reconnector() {\r\n      this.reconnector = setInterval(() => {\r\n        this.connectionStatus = 2 // Reconnecting\r\n        this.messages.push([\"CLIENT\", \"RECONNECTING\"])\r\n        this.connect()\r\n      }, 5000)\r\n    },\r\n  },\r\n  computed: {\r\n    indicatorColor() {\r\n      if (this.connectionStatus == 0)\r\n        return \"#f33\"\r\n      else if (this.connectionStatus == 1)\r\n        return \"#8f2\"\r\n      return \"#fff\"\r\n    },\r\n    canMessage() {\r\n      return this.connectionStatus == 1\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.chatlist {\r\n  height: calc(100vh - 95px);\r\n  overflow-y: scroll;\r\n  max-width: 750px;\r\n  margin: 5px auto;\r\n  border: 1px solid black;\r\n  padding: 0 10px;\r\n  border-radius: 20px;\r\n  list-style: none;\r\n}\r\n.chatlist::-webkit-scrollbar {\r\n  width: 10px;\r\n}\r\n.tableclass {\r\n  width: 100%;\r\n}\r\n.tableclass tr {\r\n  border-bottom: 1px solid #eee;\r\n}\r\n.tableclass tr:hover {\r\n  background: #eee;\r\n}\r\n.author_col {\r\n  width: 25%;\r\n}\r\n.inputs {\r\n  max-width: 750px;\r\n  margin: 5px auto;\r\n  border: 1px solid black;\r\n  height: 30px;\r\n  border-radius: 20px;\r\n}\r\n.textInput {\r\n  height: 100%;\r\n  width: calc(100% - 80px);\r\n  border: none;\r\n  background: none;\r\n  border-radius: 20px 0 0 20px;\r\n  padding-left: 5px;\r\n}\r\n.submitInput {\r\n  height: 100%;\r\n  width: 80px;\r\n  border: none;\r\n  background: none;\r\n  border-radius: 0 20px 20px 0;\r\n}\r\n.banner {\r\n  background: rgb(255, 231, 215);\r\n  position: relative;\r\n  border-bottom: 2px solid #800;\r\n  height: 50px;\r\n}\r\n.banner img {\r\n  height: 40px;\r\n  width: 71.1px;\r\n}\r\n.logo {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n}\r\n.logo span {\r\n  font-size: 230%;\r\n  transform: translate(0, -3px);\r\n  position: absolute;\r\n  color: #800;\r\n}\r\n.status {\r\n  border: 1px solid black;\r\n  position: absolute;\r\n  height: 80%;\r\n  right: 10px;\r\n  width: 120px;  \r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n  border-radius: 10px;\r\n  background: #8002;\r\n}\r\n.statusIndicator {\r\n  position: absolute;\r\n  left: 5px;\r\n  background: white;\r\n  height: 30px;\r\n  width: 30px;\r\n  border-radius: 50%;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n  box-shadow: inset -5px -5px 6px #000a;\r\n}\r\n.statusTex {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n  left: 40px;\r\n}\r\n</style>","import { render } from \"./ChatView.vue?vue&type=template&id=648ac8b8&scoped=true\"\nimport script from \"./ChatView.vue?vue&type=script&lang=js\"\nexport * from \"./ChatView.vue?vue&type=script&lang=js\"\n\nimport \"./ChatView.vue?vue&type=style&index=0&id=648ac8b8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Omistaja\\\\Desktop\\\\Webstuff\\\\hello-world\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-648ac8b8\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","alt","_hoisted_2","style","background","$options","_toDisplayString","$data","_hoisted_7","_createElementBlock","_Fragment","_renderList","message","i","key","action","onSubmit","ref","type","disabled","data","connection","messages","reconnector","connected_users","connectionStatus","statusText","mounted","this","connect","unmounted","close","watch","now","start_reconnector","clearInterval","methods","WebSocket","onmessage","msg","JSON","parse","push","console","log","onclose","onopen","send","stringify","sendMessage","textInput","$refs","value","setInterval","computed","indicatorColor","canMessage","__exports__","render"],"sourceRoot":""}